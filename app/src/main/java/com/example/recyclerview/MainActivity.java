package com.example.recyclerview;

import androidx.appcompat.app.AppCompatActivity;
import androidx.lifecycle.Observer;
import androidx.lifecycle.ViewModelProvider;
import androidx.lifecycle.ViewModelProviders;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import android.content.Context;
import android.os.Bundle;
import android.view.View;
import android.widget.ImageView;
import android.widget.ProgressBar;
import android.widget.TextView;

import com.bumptech.glide.Glide;
import com.bumptech.glide.request.RequestOptions;
import com.google.android.material.floatingactionbutton.FloatingActionButton;

import java.lang.reflect.Array;
import java.util.ArrayList;
import java.util.List;


public class MainActivity extends AppCompatActivity {

    private ArrayList<Country> countries = new ArrayList<>();
    private FloatingActionButton fab;
    private ProgressBar progressBar;
    private MainActivityViewModel mViewModel;
    private RecyclerViewAdapter adapter;
    private RecyclerView recyclerView;


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        fab = findViewById(R.id.floating_action_button);
        progressBar = findViewById(R.id.progress_circular);
        mViewModel = ViewModelProviders.of(this).get(MainActivityViewModel.class);
        mViewModel.init();
        mViewModel.getCountries().observe(this, new Observer<ArrayList<Country>>() {
            @Override
            public void onChanged(ArrayList<Country> countries) {
                adapter.notifyDataSetChanged();
            }
        });

        mViewModel.isUpdating().observe(this, new Observer<Boolean>() {
            @Override
            public void onChanged(Boolean aBoolean) {
                if (aBoolean)
                {
                    setProgressBarOn();
                }
                else {
                    setProgressBarOff();
                    recyclerView.scrollToPosition(mViewModel.getCountries().getValue().size()-1);
                }

            }
        });


        fab.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                mViewModel.addNewItem(new Country("US","data:image/jpeg;base64,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"));
            }
        });

        initRecyclerView();

    }


    private void initRecyclerView() {
         recyclerView = findViewById(R.id.recycler_view);
         adapter = new RecyclerViewAdapter(mViewModel.getCountries().getValue(), this);
        recyclerView.setAdapter(adapter);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));

    }

    private void setProgressBarOn(){
        progressBar.setVisibility(View.VISIBLE);
    }
    private void setProgressBarOff(){
        progressBar.setVisibility(View.GONE);
    }
}
